# Multi-Chat Markdown Helper (for ChatGPT & Gemini) - Chrome Extension

ChatGPTとGeminiでマークダウン記法（`**太字**`、`*斜体*`）を自動的にHTMLタグ（`<strong>`、`<em>`）に変換するChrome拡張機能です。

## 機能

- **自動変換**: `**太字**` → `<strong>太字</strong>`、`*斜体*` → `<em>斜体</em>`
- **リアルタイム処理**: 入力と同時に自動変換
- **無限ループ防止**: 重複処理を防ぐ高度な制御機能
- **設定可能**: ポップアップから機能のON/OFF、デバッグモードの切り替え
- **対応サイト**: ChatGPT (chatgpt.com)、Gemini (gemini.google.com)

## インストール方法

### 1. 開発者モードでのインストール

1. **拡張機能フォルダの準備**
   - このプロジェクトフォルダ全体をダウンロード
   - `enhanced-markdown-fixer.js`（ユーザースクリプト版）は不要

2. **Chromeで拡張機能を有効化**
   - Chrome で `chrome://extensions/` を開く
   - 右上の「デベロッパーモード」を有効にする
   - 「パッケージ化されていない拡張機能を読み込む」をクリック
   - このプロジェクトのフォルダを選択

3. **動作確認**
   - ChatGPT または Gemini にアクセス
   - `**テスト**` や `*テスト*` と入力して変換を確認

### 2. 設定

- 拡張機能アイコンをクリックしてポップアップを開く
- 「拡張機能を有効化」で機能のON/OFF
- 「デバッグモード」で変換されたテキストのハイライト表示

## ファイル構成

```
MarkdownBoldEnhancer/
├── manifest.json          # Chrome拡張機能の設定ファイル
├── content.js            # メインの変換ロジック
├── popup.html            # 設定画面のHTML
├── popup.css             # 設定画面のスタイル
├── popup.js              # 設定画面のロジック
└── README.md             # このファイル
```

## 技術詳細

### 変換処理

- **二段階処理**: テキストノード単位の安全な変換 → 要素レベルの境界越え変換
- **正規表現**:
  - 太字: `/\*\*([\s\S]+?)\*\*/g`
  - 斜体: `/(^|[^*])\*([^*\s][\s\S]*?)\*(?=[^*]|$)/g`
- **DOM操作**: DocumentFragmentベースの安全な置換

### 除外要素

以下の要素内では変換を実行しません：
- `pre, code, kbd, samp, textarea, script, style`

### 設定保存

- Chrome Storage API を使用して設定を永続化
- `enabled`: 機能の有効/無効
- `debug`: デバッグモードの有効/無効

## トラブルシューティング

### 変換されない場合

1. 拡張機能が有効になっているか確認
2. ポップアップで「拡張機能を有効化」がONになっているか確認
3. ページをリロードしてみる

### デバッグ

1. ポップアップで「デバッグモード」を有効にする
2. 変換されたテキストが黄色（太字）/水色（斜体）でハイライトされる
3. ブラウザの開発者ツールでコンソールエラーを確認

## 更新履歴

### v1.0 (Chrome Extension版)
- ユーザースクリプトからChrome拡張機能に移植
- 設定画面の追加
- Chrome Storage APIによる設定永続化

## ライセンス

このプロジェクトはオープンソース（MIT License）です。